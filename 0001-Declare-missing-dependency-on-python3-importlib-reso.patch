From bf0b234922931a3b8d1b399334ed7e5ad218a022 Mon Sep 17 00:00:00 2001
From: Scott K Logan <logans@cottsay.net>
Date: Tue, 19 Jan 2021 16:23:31 -0800
Subject: [PATCH] Declare missing dependency on python3-importlib-resources

Taken from upstream 9f3c29454a9aed2a373b7dae5e9e78d28e0ef2d2
---
 package.xml          | 1 +
 rpm/template.spec.em | 4 ++--
 2 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/package.xml b/package.xml
index c1f8429..78055b2 100644
--- a/package.xml
+++ b/package.xml
@@ -10,6 +10,7 @@
   <author email="dthomas@osrfoundation.org">Dirk Thomas</author>
 
   <depend>python3-importlib-metadata</depend>
+  <depend>python3-importlib-resources</depend>
   <depend>python3-setuptools</depend>
 
   <test_depend>python3-flake8</test_depend>
diff --git a/rpm/template.spec.em b/rpm/template.spec.em
index 9c244cb..44d33ff 100644
--- a/rpm/template.spec.em
+++ b/rpm/template.spec.em
@@ -15,8 +15,8 @@ License:        @(License)
 Source0:        %{name}-%{version}.tar.gz
 @[if NoArch]@\nBuildArch:      noarch@\n@[end if]@
 
-@[for p in Depends]Requires:       @p@\n@[end for]@
-@[for p in sorted(BuildDepends + ['python%{python3_pkgversion}-devel'])]BuildRequires:  @p@\n@[end for]@
+@[for p in sorted(Depends + ['python%{python3_pkgversion}-importlib-resources'])]Requires:       @p@\n@[end for]@
+@[for p in sorted(BuildDepends + ['python%{python3_pkgversion}-devel', 'python%{python3_pkgversion}-importlib-resources'])]BuildRequires:  @p@\n@[end for]@
 @[for p in Conflicts]Conflicts:      @p@\n@[end for]@
 @[for p in Replaces]Obsoletes:      @p@\n@[end for]@
 @[for p in Provides]Provides:       @p@\n@[end for]@
-- 
2.29.2

